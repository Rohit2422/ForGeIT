<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Image  Table</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      :root { --bg:#0b0f14; --card:#121821; --muted:#93a4b3; --text:#eaf2fb; --accent:#4ea1ff; }
      * { box-sizing: border-box; }
      body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: var(--bg); color: var(--text); width: 780px; }
      header { padding: 14px 16px; border-bottom: 1px solid #1c2532; display:flex; gap:12px; align-items:center; }
      h1 { font-size: 16px; margin:0; font-weight: 600; letter-spacing:.2px; }
      .pill { font-size:12px; color: var(--muted); }
      main { padding: 12px 16px 16px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
      .row { display:flex; gap:8px; align-items:center; flex-wrap: wrap; }
      .row > * { flex: 0 0 auto; }
      input[type="file"] { display:none; }
      .btn, label[for="file"] { padding: 8px 10px; background: var(--card); border: 1px solid #253141; color: var(--text); border-radius: 10px; cursor: pointer; font-size: 13px; }
      .btn:disabled { opacity: .6; cursor: not-allowed; }
      .input { background: var(--card); color: var(--text); border: 1px solid #253141; border-radius: 10px; padding: 8px 10px; font-size:13px; width: 260px; }
      .hint { font-size:12px; color: var(--muted); }
      .panel { background: var(--card); border: 1px solid #253141; border-radius: 14px; padding: 10px; min-height: 360px; display:flex; flex-direction: column; }
      .panel h2 { font-size:13px; margin: 2px 0 8px 0; color: var(--muted); display:flex; justify-content:space-between; align-items:center; }
      .panel .content { background:#0d141d; border:1px solid #1e2a39; border-radius:10px; padding:10px; flex:1; overflow:auto; }
      #preview .content { background:#0e1520; }
      textarea { width: 100%; height: 100%; border: none; outline: none; background: transparent; color: var(--text); font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; resize: none; }
      .status { margin-top: 8px; font-size:12px; color: var(--muted); }
      .actions { display:flex; gap:8px; align-items:center; }
      .copy { border:1px dashed #2b3a50; }
      .table-preview table { width: 100%; border-collapse: collapse; }
      .table-preview table, .table-preview th, .table-preview td { border: 1px solid #2b3a50; }
      .table-preview th, .table-preview td { padding: 6px 8px; font-size: 12px; vertical-align: top; }
      .sep { flex:1 }
    </style>
  </head>
  <body>
    <header>
      <span class="pill">Preview + Html</span>
      <div class="sep"></div>
      <span class="hint">Uses Google Gemini 1.5 Flash</span>
    </header>

    <main>
      <section style="grid-column:1 / -1">
        <div class="row">
          <input id="file" type="file" accept="image/*" />
          <label for="file">Upload Image</label>
          <button class="btn" id="pasteBtn" title="Paste image from clipboard">Paste Image</button>

          <input id="apiKey" class="input" placeholder="Gemini API Key (stored locally)" />
          <button class="btn" id="saveKey">Save Key</button>
          <span class="hint">Get one at makersuite.google.com or Google AI Studio</span>
        </div>
        <div class="status" id="status">Idle.</div>
      </section>

      <section id="preview" class="panel">
        <h2>Preview <span class="actions"><button class="btn copy" id="copyPreview">Copy as HTML</button></span></h2>
        <div class="content table-preview" id="previewContent">
          <div class="hint">Your rendered table will appear here.</div>
        </div>
      </section>

      <section id="code" class="panel">
        <h2>HTML Code <span class="actions"><button class="btn copy" id="copyCode">Copy as CODE</button></span></h2>
        <div class="content">
          <textarea id="codeBox" spellcheck="false" placeholder="&lt;table&gt;...&lt;/table&gt;"></textarea>
        </div>
      </section>
    </main>

    <script src="extractor.js"></script>
  </body>
</html>
